{% extends 'base.html' %}
{% block title %}{{ post.title_tag }}{% endblock %}

{% block content %}

<style>
	  .jumbotron-sm {
	    font-size: 14px;
	  }

	  .smaller-heading {
	    font-size: 40px; /* Adjust the size as needed */
	  }

	  .post-meta {
	    font-size: 15px;
	    color: #555;
	  }

	  .lead {
	    font-size: 18px;
		}
	</style>
	<div class="jumbotron jumbotron-sm">
		<h1 class="display-4 smaller-heading"><a href="{% url 'article-detail' post.pk %}">{{ post.title }}</a></h1>
	  	<p class="post-meta">Posted on - {{ post.post_date}}
	  	{% if user.is_authenticated %}
			{% if user.id == post.author.id %}
				<a href="{% url 'update_post' post.pk %}">(Edit)</a>
				<a href="{% url 'delete_post' post.pk %}">(Delete)</a>
			{% endif %}
		{% endif %}
		</p>
	  	
	  	<form action="{% url 'like_post' post.pk %}" method="POST">
			{% csrf_token %}

			{% if user.is_authenticated %}

				{% if liked %}
					<button type="submit", name="post_id", value="{{ post.id }}", class="btn btn-danger btn-sm">Unlike</button> 

				{% else %}
					<button type="submit", name="post_id", value="{{ post.id }}", class="btn btn-primary btn-sm">Like</button> 

				{% endif %}

			{% else %}
				<small><a href="{% url 'login' %}">Login to like</a></small>

			{% endif %}
					- {{ total_likes }} Likes	
		</form> 

	  	<hr class="my-4">
	  	<p class="lead">{{ post.body|safe }}</p>	

	  	<h2>Comments...</h2>
	  	{% if not post.comments.all %}
	  		No Comments Yet...<a href="#">Add One</a>
	  	{% else %}
	  		<a href="">Add Comment</a>
	  		<br>
	  		<strong>{% for comment in post.comments.all %}
	  			{{ comment.name }} - {{ comment.date_added }}</strong>
	  			<br>
	  			{{ comment.body }}
	  		{% endfor %}
	  	{% endif %}
	  	<br>

	  	<a href="">Add Comment</a>
	  	
	</div>	

<hr>
<br>

{% endblock %}